<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <link type="text/css" href="stylesheets/slots.css" rel="stylesheet">
        
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <!-- Load an icon library to show a hamburger menu (bars) on small screens -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <title>MyCalendarChum</title>
    </head>

    <body onload="checkIfSlotsEmpty()">
        
        <div class="topnav" id="myTopnav">
            <a href="calendar">Personal Calendar</a>
            <a href="javascript:void(0)" id="book-slot-window" class="active">Book a Slot</a>
            <a href="about">About</a>
            <a href="logout" id="top-right-nav-2">Sign out</a>
            <a id="delete-account-btn">Delete Account</a>
            <a id="top-right-nav">Welcome <%= username %></a>

            
            <a href="javascript:void(0);" class="icon" onclick="toggleNav()">
                <i class="fa fa-bars"></i>
            </a>
        </div>
        

       


        <!--create variable passed from backend so is accessible from slots.js-->
        <script>
            let slots = <%- JSON.stringify(slots) %>;
            let email = <%- JSON.stringify(email) %>;
            let user_id = <%- JSON.stringify(user_id) %>;

            let accountType = <%- JSON.stringify(accountType) %>;

            if (accountType === 'student') {
                document.getElementById('book-slot-window').href = "slots";
            } else if (accountType === 'staff') {
                document.getElementById('book-slot-window').addEventListener('click', () => {
                    alert('Sorry, slots can only be booked by students.');
                });
            };
        </script>

   
       
          <div class="table-responsive">
              <table class="table table-hover">
                  <thead>
                      <tr>
                        <th scope="col">Staff Member</th>
                        <th scope="col">Available Slots</th>
                      </tr>
                    </thead>
                    
                    <tbody id="js-table-body">

                    </tbody>
              </table>
          </div>

      

       

        </div>
        
        <script src="javascripts/slots.js"></script>

    </body>

</html>
